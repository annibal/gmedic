menu {
  position: fixed;
  top: 0;
  left: 0;
  bottom: 0;
  height: 100%;
  overflow: hidden;
  z-index: $sidenav-zindex;
  margin:0;
  padding:0;

  width:5px;
  opacity: 0.01;
  transition: width $sidenav-transition-speed ease, opacity $sidenav-transition-speed ease;
}

nav {
  height: 100%;
  width:100%;

  &>ul {
    background:$sidenav-background;
    overflow: hidden;
    display: flex;
    flex-direction: column;
    flex-wrap: nowrap;
    align-items: flex-start;

    height: 100%;
    width:100%;
    padding: 0;
    list-style: none;

    &>li {
      display: flex;
      flex-direction: column;
      flex: 0 0 auto;
      height: 50px;
      width:100%;
      transition: all $sidenav-transition-speed ease;
      background: $sidenav-item-background;
      color: $sidenav-item-color;
      border-bottom:$sidenav-item-border-bottom;

      &.category-visible {
        background:$sidenav-active-item-background;
        color:$sidenav-active-item-color;
        flex: 12;

        & + li.category-hidden > p {
          box-shadow: $sidenav-item-shadow-up;
        }
      }

      // @for $i from 1 through $menu-items {
      //   &:nth-child(#{$menu-items}n+#{$i}) {
      //     & > p {
      //       background:nth($sidenav-items-backgrounds,$i);
      //       background:nth($sidenav-items-colors,$i);
      //     }
      //     &.category-visible > p {
      //       background:nth($sidenav-active-items-backgrounds,$i);
      //       background:nth($sidenav-active-items-colors,$i);
      //     }
      //   }
      // }

      &.menu-control {
        & > p {
          background: $sidenav-menu-control-background;
          color: $sidenav-menu-control-color;
          line-height: 65px;
        }
      }

      &>p {
        padding: 0 15px;
        height: 50px;
        line-height: 50px;
        margin: 0;
        flex: 1;
        cursor: pointer;
        box-shadow: $sidenav-item-shadow-down;

        &>.glyphicon {
          font-size: 30px;
        }
      }

      &>ul {
        list-style: none;
        padding-left: 0px;
        flex: 30;
        overflow-y: auto;
        overflow-x: hidden;
      }

      ul {

        &>li {
          &>a {
            background:$sidenav-subitem-background;
            color:$sidenav-subitem-color;

            padding: 15px 0 15px 32px;
            display: block;

            &:focus, &:hover {
              background:$sidenav-subitem-hover-background;
              color:$sidenav-subitem-hover-color;
              outline: none;
            }

            &:active {
              background:$sidenav-subitem-active-background;
              color:$sidenav-subitem-active-color;
            }

            &:first-child {
              padding-top:22px;
            }
          }
        }
      }

    }
  }
}


@media(min-width: $goldenSize*2px + $goldenStartSize) {
  .menu-visible menu,
  menu.nb-hover {
    width:340px;
    opacity: 1;
  }
}
@media(max-width: $goldenSize*2px + $goldenStartSize) {
  .menu-visible menu {
    width:100%;
    opacity: 1;
  }
}

.menu-forceclose menu {
  width: 0;
  opacity: 0;
}
